---
apiVersion: v1
kind: Pod
metadata:
  name: pod-httpd
  labels:
    component: apache_webserver
spec: 
  volumes: 
    - name: webcontent    #Â here we specify the name of the volume
      emptyDir: {}        # the '{}' is yaml syntax to represent an empty dictionary
  containers:
    - name: cntr-httpd
      image: httpd
      volumeMounts:
        - name: webcontent
          mountPath: /usr/local/apache2/htdocs
      ports:
        - containerPort: 80
    - name: cntr-centos
      image: centos
      volumeMounts:
        - name: webcontent
          mountPath: /tmp/reports
      command: ["/bin/bash", "-c"]
      args:
        - while true ; do
            echo "this content is being generated by the centos container" >> /tmp/reports/index.html ;
            date >> /tmp/reports/index.html ;
            sleep 5 ;
          done
          # this while-loop args gets parsed as a single line, so have to end relevant line with a ';'